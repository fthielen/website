[{"authors":["admin"],"categories":null,"content":"Frederick W. Thielen is a PhD student in Health Technology Assessment (HTA) at the Erasmus University Rotterdam (The Netherlands). His research interests include health economic modelling of haematological diseases as well as pharmaceutical pricing and market access of new (and therefore mostly [very] expensive) cancer drugs.\nWhenever possible, he is conducting research in R and is guided by the following principles:\n Can I do it in R? If not, how can I make it possible in R?  ","date":1586815200,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1586815200,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"Frederick W. Thielen is a PhD student in Health Technology Assessment (HTA) at the Erasmus University Rotterdam (The Netherlands). His research interests include health economic modelling of haematological diseases as well as pharmaceutical pricing and market access of new (and therefore mostly [very] expensive) cancer drugs.\nWhenever possible, he is conducting research in R and is guided by the following principles:\n Can I do it in R? If not, how can I make it possible in R?","tags":null,"title":"","type":"authors"},{"authors":null,"categories":null,"content":"There is probably nothing more annoying than doing things all over again or \u0026ldquo;inventing the wheel twice\u0026rdquo;. Doing research, and especially economic evaluations, is often exactly just that:\n re-calculating transition rates searching for the latest consumer price index or the friction period fitting parametric survival model visualising \u0026lsquo;standard\u0026rsquo; outputs and many more  This list may be endless. And although I (or certainly one of my colleagues) recently looked-up the source documentation/data somewhere, that particular link, script or text seems to have vanished from my PC. Or from my laptop, or Dropbox, or the shared network drive at work, or wherever I stored it.\nNot only I find these searches annoying, I especially find them time consuming. So this is the core aim of this website: create myself a repository of \u0026lsquo;tutorials\u0026rsquo; to help me being more effective. Maybe some of these tutorial are useful to you as well. If you have comments or suggestion on the code please let me know.\n","date":1536444000,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536444000,"objectID":"c3224f3a64174f08aaf31e1f1d16ffd3","permalink":"/tutorial/","publishdate":"2018-09-09T00:00:00+02:00","relpermalink":"/tutorial/","section":"tutorial","summary":"There is probably nothing more annoying than doing things all over again or \u0026ldquo;inventing the wheel twice\u0026rdquo;. Doing research, and especially economic evaluations, is often exactly just that:\n re-calculating transition rates searching for the latest consumer price index or the friction period fitting parametric survival model visualising \u0026lsquo;standard\u0026rsquo; outputs and many more  This list may be endless. And although I (or certainly one of my colleagues) recently looked-up the source documentation/data somewhere, that particular link, script or text seems to have vanished from my PC.","tags":null,"title":"Overview","type":"docs"},{"authors":[],"categories":null,"content":"Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1906542000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1906542000,"objectID":"96344c08df50a1b693cc40432115cbe3","permalink":"/talk/example/","publishdate":"2017-01-01T00:00:00+01:00","relpermalink":"/talk/example/","section":"talk","summary":"An example talk using Academic's Markdown slides feature.","tags":[],"title":"Example Talk","type":"talk"},{"authors":null,"categories":["R"],"content":"  Update 7 December 2020: code chunk to download CBS data was not visible but is now added. This also leads to an update in the downloaded CBS data (kept for this post).\nBackground The other day I was browsing through reddit when a post in r/dataisbeautiful caught my attention. The title stated [OC] Total deaths per week in the Netherlands from 1995 to 2020 and showed a graph with several lines. User theorange1990 plotted the weekly total deaths in the Netherlands between 1995 and 2020, together with an “Upper Bound” line. In addition, three more labels were included in the figure, pointing to “2018 - Flu epidemic in the Netherlands”, “2020 - so far”, and ‘“Upper Bound” of a normal year curve’.\nWhat stood out was one yellow curve, peaking on the y-axis. This one was labelled with “2020 - so far”. It didn’t look long for the community to point to some methodological flaws of plotting the data “as is”, but I was interested in where the data were actually coming from. In the authors citation, theorange1990 mentioned the source to be Statistics Netherlands (CBS), the national statistical office of the Netherlands and just below the sentence: “Data organized and graphed using Excel”.\nWhile Excel is of course a valid tool for such simple plotting exercises, I wanted to see if and how I can replicate this graph in R.\nThe replication took about 10-15 minutes with downloading the most recent data from the CBS servers directly into R. This approach has several advantages:\n R is getting newest data directly from the CBS server (no separate downloading, saving, opening, transformation from .csv to .xlsx by hand necessary) The code can easily be shared (what I do here) and everyone running the script will received the same result With new data points becoming available, the plot is “updating itself”  In the following, I want share my approach.\n Needed packages  tidyverse for data cleaning, transformation and visualisation cbsodataR open data API client for CBS   CBS data Download with CBS API: cbsodataR To download the same data as the reddit author, we look at his/her link provided in the post: https://opendata.cbs.nl/#/CBS/en/dataset/70895ENG/table\nClicking the link brings us to the online table but we just need the “table identifier” which is a unique table ID for each CBS tables. I found these difficult to find on the table website but if you have the link, the identifier is part of its URL. In this case this is 70895ENG.\nLet’s start writing the R script.\n# Load needed packages library(tidyverse) library(cbsodataR) # Import data from CBS using the table identifier db_cbs \u0026lt;- cbsodataR::cbs_get_data(\u0026quot;70895ENG\u0026quot;) %\u0026gt;% cbs_add_label_columns() # Without this line we only see codes for each observation which are difficult to interpret Now that we have downloaded the table, let’s have a look at it.\nhead(db_cbs) ## # A tibble: 6 x 7 ## Sex Sex_label Age31December Age31December_l… Periods Periods_label Deaths_1 ## \u0026lt;chr\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;int\u0026gt; ## 1 T0010… Total ma… 10000 Total 1995X0… 1995 week 0 … 394 ## 2 T0010… Total ma… 10000 Total 1995W1… 1995 week 1 2719 ## 3 T0010… Total ma… 10000 Total 1995W1… 1995 week 2 2823 ## 4 T0010… Total ma… 10000 Total 1995W1… 1995 week 3 2609 ## 5 T0010… Total ma… 10000 Total 1995W1… 1995 week 4 2664 ## 6 T0010… Total ma… 10000 Total 1995W1… 1995 week 5 2577  Tidy data The formatting looks different from the format on the table’s website, but this doesn’t matter for this plotting exercise.\nOne problem we have with the table though is that year and weeks are “smashed together” into one variable: Periods or Periods_label.\nWe however want to plot deaths by week on the x-axis and each year should become one line. So we need to separate the years from the weeks.\nSince Periods always has eight characters, it is easiest use this column and separate the two information on time with substr().\nJust as on the OC we are only interested in pooled data for:\n both sexes (see columns Sex or Sex_label), all age groups (see columns Age31Decembet or Age31December_label), and weeks 1 to 52 (weeks 0 and 53 were excluded since they do not appear in each year).  db_plot \u0026lt;- db_cbs %\u0026gt;% mutate(year = factor(substr(Periods, start = 1, stop = 4)), # extract year wk = factor(as.numeric(substr(Periods, start = 7, stop = 8)))) %\u0026gt;% #extract weeks filter(Sex == \u0026quot;T001038\u0026quot;, # only keep data for both sexes Age31December == \u0026quot;10000\u0026quot;, wk %in% 1:52) %\u0026gt;% # only keep weeks 1 through 52 select(Sex_label, Deaths_1, year, wk) %\u0026gt;% # keep necessary data only mutate(Sex_label = factor(Sex_label)) Now that we have the data in a tidy way and kept only necessary columns, let’s have a look at it (first six rows should be enough).\nhead(db_plot) ## # A tibble: 6 x 4 ## Sex_label Deaths_1 year wk ## \u0026lt;fct\u0026gt; \u0026lt;int\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; ## 1 Total male and female 2719 1995 1 ## 2 Total male and female 2823 1995 2 ## 3 Total male and female 2609 1995 3 ## 4 Total male and female 2664 1995 4 ## 5 Total male and female 2577 1995 5 ## 6 Total male and female 2536 1995 6  Plotting data In this exercise we will use a simple line chart with ggplot2. Since we have tidy data already we just needs to specify a few things.\nggplot(data = db_plot) + # plot lines geom_line(aes(x = factor(wk), y = Deaths_1, col = year, group = year)) + # add lables labs(title = \u0026quot;Deaths per week\u0026quot;, x = \u0026quot;Week number\u0026quot;, y = \u0026quot;Deaths\u0026quot;, col = \u0026quot;Years\u0026quot;) + # place legend and customise text size to make it all fit theme(legend.position = \u0026quot;bottom\u0026quot;, legend.text = element_text(size = 7), text = element_text(size = 7)) + guides(col = guide_legend(nrow = 3))   Remarks and additions As opposed to Excel, R is not “smoothing” the lines between the different data points for each week. If this is a goal this post on stackoverflow might be something for you.\nBy the time of writing, rendering and finally pushing this post to github, there were more data available than in the post on reddit. I decided to plot these data as well.\nSince the data have information on age categories, plotting several graphs is quite easy. Instead of keeping only data for all age groups (see filter(Age31December == \"10000\"), we can keep all age groups and use the facet_wrap() function from ggplot2. Notice that I use scales = \"free\" to “zoom” into the different age groups.\ndb_plot2 \u0026lt;- db_cbs %\u0026gt;% mutate(year = factor(substr(Periods, start = 1, stop = 4)), # extract year wk = factor(as.numeric(substr(Periods, start = 7, stop = 8)))) %\u0026gt;% #extract weeks filter(Sex == \u0026quot;T001038\u0026quot;, # only keep data for both sexes wk %in% 1:52) %\u0026gt;% # only keep weeks 1 through 52 select(Sex_label, Deaths_1, year, wk, Age31December_label) %\u0026gt;% # keep necessary data only mutate(Sex_label = factor(Sex_label)) ggplot(data = db_plot2) + # plot lines geom_line(aes(x = factor(wk), y = Deaths_1, col = year, group = year)) + # add lables labs(title = \u0026quot;Deaths per week\u0026quot;, x = \u0026quot;Week number\u0026quot;, y = \u0026quot;Deaths\u0026quot;, col = \u0026quot;Years\u0026quot;) + # place legend and customise text size to make it all fit theme(legend.position = \u0026quot;bottom\u0026quot;, legend.text = element_text(size = 7), text = element_text(size = 7)) + guides(col = guide_legend(nrow = 3)) + facet_wrap(~ Age31December_label, scales = \u0026quot;free\u0026quot;) Finally, we could also only include the last five years of data to avoid any discussions of the data not being comparable due to ageing, migration patterns, advances in vaccination programmes etc.\nWe can filter data in ggplot() directly:\nggplot(data = filter(db_plot2, year %in% 2015:2020)) + # plot lines geom_line(aes(x = factor(wk), y = Deaths_1, col = year, group = year)) + # add lables labs(title = \u0026quot;Deaths per week\u0026quot;, x = \u0026quot;Week number\u0026quot;, y = \u0026quot;Deaths\u0026quot;, col = \u0026quot;Years\u0026quot;) + # place legend and customise text size to make it all fit theme(legend.position = \u0026quot;bottom\u0026quot;, legend.text = element_text(size = 7), text = element_text(size = 7)) + guides(col = guide_legend(nrow = 1)) + facet_wrap(~ Age31December_label, scales = \u0026quot;free\u0026quot;)   Conclusion This post is avoiding any discussion on the usefulness of the data to interpret the COVID-19 pandemic on purpose. Instead it shows how to easily retrieve up-to-date data from CBS and plot them with a few lines of R code. The advantage to this approach (as opposed to plotting in Excel) is that the graphs are produced in a transparent and reproducible way and that they can be updated on a weekly basis (each time new data is becoming available). This post can serve as a use case for the cbsodataR package or even ggplot2 (although for the latter there are much better examples out there).\n ","date":1589673600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1589673600,"objectID":"a2a9f194215567caae958dd20ded4b21","permalink":"/post/2020/cbsodatar-reddit/","publishdate":"2020-05-17T00:00:00Z","relpermalink":"/post/2020/cbsodatar-reddit/","section":"post","summary":"Replicating an original content (OC) from reddit with the R packages cbsodataR and ggplot2.","tags":["R","cbsodataR","ggplot2"],"title":"Using cbsodataR to plot total deaths per week in the Netherlands from 1995 to 2020 (OC from reddit)","type":"post"},{"authors":["","A van Dongen-Leunis","AMM Arons","JR Ladestein","PM Hoogerbrugge","CA Uyl‐de Groot"],"categories":null,"content":"  ","date":1586815200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1586815200,"objectID":"2241297f8355cabae1e7d48cd3cfbdaa","permalink":"/publication/cea-cart/","publishdate":"2020-04-14T00:00:00+02:00","relpermalink":"/publication/cea-cart/","section":"publication","summary":"In this article we conduct a cost-utility analyses of the CAR T-cell therapy tisagenlecleucel from a health care perspective and societal perspective.","tags":["CAR T-cell therapy","Decision Modelling","Economic Evaluation"],"title":"Cost-effectivness of CAR T-cell therapy for pALL. A societal view.","type":"publication"},{"authors":null,"categories":null,"content":"","date":1558562400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1558562400,"objectID":"d1311ddf745551c9e117aa4bb7e28516","permalink":"/project/external-project/","publishdate":"2019-05-23T00:00:00+02:00","relpermalink":"/project/external-project/","section":"project","summary":"RETHRIM is an EU sponsored research consortium that has initiated a phase III clinical trial to investigate the usefulness of Mesenchymal Stromal Cells for the treatment of Graft-versus-Host-Disease.","tags":["CEA"],"title":"The RETHRIM project","type":"project"},{"authors":[],"categories":[],"content":"Welcome to Slides Academic\n Features  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides   Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E   Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026#34;blueberry\u0026#34; if porridge == \u0026#34;blueberry\u0026#34;: print(\u0026#34;Eating...\u0026#34;)  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = ;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\n Fragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}} Press Space to play!\nOne Two Three  A fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears   Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}} Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view    Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links    night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links   Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026#34;/img/boards.jpg\u0026#34; \u0026gt;}} {{\u0026lt; slide background-color=\u0026#34;#0000FF\u0026#34; \u0026gt;}} {{\u0026lt; slide class=\u0026#34;my-style\u0026#34; \u0026gt;}}  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }  Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":["","HM Blommestein","LEM Oosten","FG Calkoen","AC Lankester","JJ Zwaginga","K Le Blanc","A Redondo","F Sánchez‐Guijo","M Algeri","F Locatelli","WE Fibbe","CA Uyl‐de Groot"],"categories":null,"content":"  ","date":1541023200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1541023200,"objectID":"239f61dfbe43e613bf5b63f05e7163e1","permalink":"/publication/gvhd-model/","publishdate":"2018-11-01T00:00:00+02:00","relpermalink":"/publication/gvhd-model/","section":"publication","summary":"In this article we describe the development and simulation of a decision model for the second-line treatment of acute GvHD.","tags":["GvHD","Decision Modelling","Economic Evaluation"],"title":"Second‐line treatment for acute graft‐versus‐host disease with mesenchymal stromal cells: A decision model.","type":"publication"},{"authors":null,"categories":null,"content":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;\n","date":1536444000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1536444000,"objectID":"6a451186c775f5f0adb3a0416d0cb711","permalink":"/tutorial/example/","publishdate":"2018-09-09T00:00:00+02:00","relpermalink":"/tutorial/example/","section":"tutorial","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;","tags":null,"title":"Example Page","type":"docs"},{"authors":["Frederick Thielen","Nasuh Büyükkaramikli","Rob Riemsma","Debra Fayter","Nigel Armstrong","Ching-Yun Wei","Vanesa Huertas Carrera","Kate Misso","Gill Worthy","Jos Kleijnen","Isaac Corro Ramos"],"categories":null,"content":"  ","date":1514757600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1514757600,"objectID":"28bc7410202bcce849f384f3abe9c93b","permalink":"/publication/sta-obin/","publishdate":"2018-01-01T00:00:00+02:00","relpermalink":"/publication/sta-obin/","section":"publication","summary":"An Evidence Review Group Evaluation of the NICE Single Technology Appraisal for obinutuzumab in combination with chemotherapy for first-line treatment of advanced follicular lymphoma.","tags":["NICE","Follicular Lymphoma","Economic Evaluation"],"title":"Obinutuzumab in Combination with Chemotherapy for the First-Line Treatment of Patients with Advanced Follicular Lymphoma: An Evidence Review Group Evaluation of the NICE Single Technology Appraisal","type":"publication"},{"authors":["Frederick Thielen","GAPG Van Mastrigt","LT Burgers","WM Bramer","HJM Majoie","SMAA Evers","J Kleijnen"],"categories":null,"content":"  ","date":1477951200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1477951200,"objectID":"61a75e7ee7ff58c887c307e57b1cedc5","permalink":"/publication/sr-ee/","publishdate":"2016-11-01T00:00:00+02:00","relpermalink":"/publication/sr-ee/","section":"publication","summary":"A short paper on how to prepare a systematic literature review of economic evaluations.","tags":["Systematic Literature Review","Economic Evaluation"],"title":"How to prepare a systematic review of economic evaluations for clinical practice guidelines: database selection and search strategy development (part 2/3)","type":"publication"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"a1096c4e51092ab810f17ecab1351fa3","permalink":"/tutorial/rethrim/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/tutorial/rethrim/","section":"tutorial","summary":"","tags":null,"title":"","type":"tutorial"}]